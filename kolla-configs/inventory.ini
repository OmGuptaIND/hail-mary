
[control]
server1 ansible_host=10.180.220.19 ansible_ssh_private_key_file=/root/anton/keys/root network_interface=enp7s0.1871 neutron_external_interface=enp7s0

[network]
server1

[compute]
server2 ansible_host=10.180.220.6 ansible_ssh_private_key_file=/root/anton/keys/root network_interface=enp5s0.1871 neutron_external_interface=enp5s0

[monitoring]
# Empty since monitoring is disabled

[storage]
server1

[deployment]
localhost ansible_connection=local

# REQUIRED STRUCTURAL GROUPS
[baremetal:children]
control
network
compute
storage

[common:children]
control
network
compute
storage

# OVN-SPECIFIC GROUPS (Required for OVN)
[ovn-controller:children]
ovn-controller-network
ovn-controller-compute

[ovn-controller-network:children]  # Added for network nodes
network

[ovn-controller-compute:children]  # Added for compute nodes
compute

[ovn-nb-db:children]
control

[ovn-sb-db:children]
control

[ovn-northd:children]
control

[neutron-ovn-metadata-agent:children]
compute
network

[neutron-ovn-agent:children]
compute
network

# OVN Relay Groups (empty to disable relay and avoid template errors)
[ovn-nb-db-relay]
# Empty - relay disabled

[ovn-sb-db-relay]
# Empty - relay disabled

# OVS (required for OVN)
[openvswitch:children]
network
compute

# EMPTY GROUPS (required by kolla-ansible but not used)
[bifrost:children]
deployment

# REQUIRED COMMON SERVICES (Kolla infrastructure)
[cron:children]
common

[kolla-logs:children]
common

[kolla-toolbox:children]
common

[fluentd:children]  # Required for precheck, even if disabled
common

# DATABASE AND MESSAGE QUEUE
[mariadb:children]
control

[rabbitmq:children]
control

[memcached:children]
control

# CORE SERVICES
[keystone:children]
control

[glance:children]
control

[nova:children]
control

[neutron:children]
network

[horizon:children]
control

[placement:children]
control

# HA SERVICES
[loadbalancer:children]
network

[keepalived:children]
network

# SERVICE-LEVEL GROUPS
[glance-api:children]
glance

[nova-api:children]
nova

[nova-conductor:children]
nova

[nova-metadata:children]
nova

[nova-super-conductor:children]
nova

[nova-novncproxy:children]
nova

[nova-scheduler:children]
nova

[nova-spicehtml5proxy:children]
nova

[nova-compute-ironic:children]
nova

[nova-serialproxy:children]
nova

[neutron-server:children]
control

[placement-api:children]
placement

[neutron-bgp-dragent:children]
compute
network

# REQUIRED BUT EMPTY GROUPS FOR OVN
[neutron-dhcp-agent]
# Empty - OVN handles DHCP

[neutron-l3-agent]  
# Empty - OVN handles L3

[neutron-metadata-agent]
# Empty - using neutron-ovn-metadata-agent instead

[neutron-infoblox-ipam-agent]
# Empty - Infoblox not used

[neutron-metering-agent]
# Empty - Metering not used

[ironic-neutron-agent]
# Empty - Ironic not used

[all:vars]
ansible_ssh_common_args='-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'
ansible_become=true
ansible_become_method=sudo