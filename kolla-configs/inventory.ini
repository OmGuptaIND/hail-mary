# Main host groups - using your actual host-specific interfaces as discussed
[control]
server1 ansible_host=10.180.220.19 ansible_ssh_private_key_file=/root/hail-mary/keys/root network_interface=enp1s0.2643 api_interface=enp1s0.2643 neutron_external_interface=enp1s0

[network]
server1

[compute]
server2 ansible_host=10.180.220.6 ansible_ssh_private_key_file=/root/hail-mary/keys/root network_interface=enp5s0.2643 api_interface=enp5s0.2643 neutron_external_interface=enp5s0

[storage]
server1

[deployment]
localhost ansible_connection=local

[baremetal:children]
control
network
compute
storage

[common:children]
control
network
compute
storage

# OVN-specific groups
[ovn-controller:children]
network
compute

[ovn-controller-compute:children]
compute

[ovn-controller-network:children]
network

[ovn-nb-db:children]
control

[ovn-sb-db:children]
control

[ovn-northd:children]
control

# OVN relay groups (empty to disable)
[ovn-nb-db-relay]
# Empty - relay disabled

[ovn-sb-db-relay]  
# Empty - relay disabled

# OpenVSwitch (required by OVN)
[openvswitch:children]
network
compute

# Neutron OVN agents
[neutron-ovn-metadata-agent:children]
compute
network

# BGP agent
[neutron-bgp-dragent:children]
network

# Core infrastructure
[mariadb:children]
control

[rabbitmq:children]
control

[memcached:children]
control

# OpenStack services
[keystone:children]
control

[glance:children]
control

[nova:children]
control

[neutron:children]
network

[horizon:children]
control

[placement:children]
control

# HA services
[loadbalancer:children]
network

[keepalived:children]
network

# Required service subgroups
[glance-api:children]
glance

[nova-api:children]
nova

[nova-conductor:children]
nova

[nova-scheduler:children]
nova

[nova-compute:children]
compute

[nova-metadata:children]
nova

[nova-super-conductor:children]
nova

[nova-novncproxy:children]
nova

[nova-spicehtml5proxy:children]
nova

[nova-compute-ironic:children]
nova

[nova-serialproxy:children]
nova

[neutron-server:children]
control

[placement-api:children]
placement

# Required empty groups for OVN
[neutron-dhcp-agent]
# Empty - OVN handles DHCP

[neutron-l3-agent]
# Empty - OVN handles L3

[neutron-metadata-agent]
# Empty - using neutron-ovn-metadata-agent

[neutron-infoblox-ipam-agent]
# Empty - service disabled

[neutron-metering-agent]
# Empty - service disabled

[ironic-neutron-agent]
# Empty - service disabled

[manila-share]
# Empty - service disabled

[neutron-ovn-agent]
# Empty - service disabled

# Console proxy groups (empty since nova_console: "none")
[nova-novncproxy]
# Empty - console disabled

[nova-spicehtml5proxy]
# Empty - console disabled  

[nova-serialproxy]
# Empty - console disabled

[nova-compute-ironic]
# Empty - ironic disabled

# Bifrost (bare metal provisioning - disabled)
[bifrost]

# Common services
[cron:children]
common

[kolla-logs:children]
common

[kolla-toolbox:children]
common

[fluentd:children]
common

[all:vars]
ansible_ssh_common_args='-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'
ansible_become=true
ansible_become_method=sudo